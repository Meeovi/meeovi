import { useNuxtApp } from 'nuxt/app'
import type { CommerceProduct, CommerceListParams } from '../types.js'

export const useCommerce = () => {
  const { $commerce } = useNuxtApp()

  const getProduct = (id: string): Promise<CommerceProduct | null> => {
    return $commerce.getProduct(id)
  }

  const getProducts = (params?: CommerceListParams): Promise<CommerceProduct[]> => {
    return $commerce.getProducts(params)
  }

  return {
    getProduct,
    getProducts,
  }
}
