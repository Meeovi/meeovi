/* eslint-disable @typescript-eslint/no-unused-vars */
import { useQuery, type OperationVariables } from '@vue/apollo-composable'
import type { DocumentNode } from 'graphql'
import { useNuxtApp } from 'nuxt/app'

export function useGqlQuery<TData, TVars extends OperationVariables = OperationVariables>(
  doc: DocumentNode,
  variables?: TVars,
) {
  const { $magentoApollo } = useNuxtApp()

  return useQuery<TData, TVars>(doc, variables as TVars, {
    clientId: 'magento',
    fetchPolicy: 'cache-first',
  })
}
